{% extends 'base.html.twig' %}

{% block title %}Réalisations
{% endblock %}

{% block body %}
	<main class="mainIndex">
		<h2>Réalisations</h2>

		<table class="table">
			<thead>
				<tr>
					<th>Image</th>
					<th>Titre</th>
					<th>Description</th>
					<th>Compétences</th>
					<th>GitHub</th>
					<th>Modifier</th>
				</tr>
			</thead>
			<tbody>
				{% for project in projects %}
					<tr>
						<td data-label="Image :"><img src="{{ asset('uploads/images/' ~ project.projectPicture) }}" width="80px"></td>
						<td data-label="Titre :">{{ project.projectTitle }}</td>
						<td data-label="Description :">{{ project.projectText }}</td>
						<td data-label="Compétences :">
							{% for skill in project.skills %}
								{{ skill.skillTitle }}
								{% if not loop.last %},
								{% endif %}
							{% endfor %}
						</td>
						<td data-label="GitHub :">{{ project.github }}</td>
						<td data-label="Modifier">
							<a href="{{ path('app_projects_edit', {'id': project.id}) }}">
								<i class="fa-solid fa-pen"></i>
							</a>
						</td>
					</tr>
				{% else %}
					<tr>
						<td colspan="5">Donnée vide</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
		<div class="buttons">
			<a href="{{ path('app_projects_new') }}" class="btn">Ajouter</a>
			<a href="{{ path('admin') }}" class="btn">Retour</a>
		</div>
	</main>
{% endblock %}
